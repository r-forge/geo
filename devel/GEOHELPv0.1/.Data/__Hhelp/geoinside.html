<HTML>
<head> 
<style type="text/css"> 
  body { font-size: 14pt ; font-family: SansSerif } 
  p    { font-size: 14pt ; font-family: SansSerif } 
  samp { font-size: small; font-family: Monospaced }
  code { font-family: Monospaced }
  tt   { font-family: Monospaced }
  pre  { margin-top: 5; margin-bottom: 5; font-family: Monospaced}
</style>
<script language="JavaScript"> 
<!-- 
// searching is disabled until the applet is initialized 
enableSearch = false; 
function searchInIndex (srch_trm) { 
theUrl = document.SgmlLink.search(srch_trm); 
if (theUrl.length() == 0) { 
alert("DOCUMENT NOT FOUND"); 
} 
else{ 
coWindow =open(theUrl,"srch_trm","width=600,height=500,resizable=1,scrolling=1,statusbar=1,location=1,scrollbars=1");
coWindow.location=theUrl; 
coWindow.focus(); 
} 
return ; 
} 
//--> 
</script> 
</head> 
  <body bgcolor='#FFFFFF'>
<! geoinside >

<H1>Finds a subset of a given set of data which  is  inside  a  given
region.
</H1>
<H2> DESCRIPTION: </H2> Finds a subset of a given set of data which is  inside  or
       outside  a  given  region and returns a submatrix of those
       values, boolean vector of indexes or index vector.
<H2> USAGE: </H2>
<PRE>geoinside(data, reg, option=1, col.names=c(&quot;lat&quot;, &quot;lon&quot;), na.rm=T, robust=F)
</PRE>

<H2> REQUIRED ARGUMENTS: </H2>
<DL>
<DT><B>data</B>
</DT><DD>
a dataframe, should include vectors $lat and $lon,  but
       will except other names, see col.names.
</DD>
<DT><B>reg</B>
</DT><DD>
The region we want to determine whether the data is inside
       of, should include vectors with same names as data.
</DD>
</DL>
<H2> OPTIONAL ARGUMENTS: </H2>
<DL>
<DT><B>option</B>
</DT><DD>
 Allows you to determine on what format you recieve  the
       output:  
<PRE>        option = 1: returns the submatrix of data which
                    is inside reg.
        option = 2: returns the submatrix of  data
                    which  is  outside  reg.
        option = 3: returns a boolean vector saying whether a
                    given index is inside reg.
        option = 4: returns a boolean vector saying whether a
                    give index is outside reg.
        option = 5: returns a vector  of  indexes to data,
                    data[return[i],] is the i-th point in data
                    inside reg. 
        option = 6: returns a vector  of  indexes  to  data,
                    data[return[i],] is the i-th point in data
                    outside reg.
</PRE>
     
</DD>
<DT><B>col.names</B>
</DT><DD>
Default col.names = c("lat","lon"), determines the
       names  of  the  base  vectors of the space we are viewing.
       May be replaced by for instance col.names = c("x","y")
</DD>
<DT><B>na.rm</B>
</DT><DD>
If true values where $lat or $lon are NA  are  removed.
       Default is false.
</DD>
<DT><B>robust</B>
</DT><DD>
If true a robust search is done, if false the  function
       runs faster.  Default is true. Robust = T will not work if
       the  regions  edges  overlap  each  other,  if  region  is
       sensibly defined this will not happen and robust =F should
       be used.
</DD>
</DL>
<H2> VALUE: </H2>
<DL>Returns and output vector or matrix, see option.
</DL>

<H2> SIDE EFFECTS: </H2>
None.
<H2> SEE ALSO: </H2>
<OBJECT CLASSID="java:com.insightful.splus.SplusJhHyperlink">
<param name="id" value="geoplot">
<param name="text" value="geoplot">
<param name="textColor" value="blue">
</OBJECT>
,
<OBJECT CLASSID="java:com.insightful.splus.SplusJhHyperlink">
<param name="id" value="geolocator">
<param name="text" value="geolocator">
<param name="textColor" value="blue">
</OBJECT>

.
<H2> EXAMPLES: </H2>
 
<PRE>
   seafishing &lt;- geoinside(fishing,island,option=2)  
   # Removes those datapoints from fishing where fishing took
   # place inside Iceland (misspells).

   grd &lt;- list(lat=c(64,64,63,63),lon=c(-23,-22,-22,-23))
   ins.lat.64.63.lon.23.22 &lt;- geoinside(fishing,grd,robust =T)  
   # Extracts those points from fishing where fishing
   # took place inside the given box.


      
   #######################################################
   # Example                                             # 
   #######################################################

   par(mfrow=c(2,1))
   stations&lt;-data.frame(lat=stodvar$lat,lon=stodvar$lon)
   stations&lt;-stations[!is.na(stations$lon),]            
   stations&lt;-stations[!is.na(stations$lat),]

   geoplot(grid=F)
   geopoints(stations,pch=&quot;.&quot;,col=25)
   title(main=&quot;Before geoinside&quot;)

   sea.stations &lt;- geoinside(stations,island,option=2)
   # Removes those datapoints from stations where
   # measurments took place inside Iceland (misspells).        
 
   geoplot(grid=F) 
   geopoints(sea.stations,pch=&quot;.&quot;,col=25)       
   title(main=&quot;After geoinside&quot;)

   #######################################################
  

</PRE>

<!-- s-docclass function -->
<applet 
 code=SgmlLink.class 
  name=SgmlLink 
width=0 
 height=0 > 
 <param name="INDEXFILE" value="index.txt"> 
 </applet> 
 </BODY>
</HTML>
